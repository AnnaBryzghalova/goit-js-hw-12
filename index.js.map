{"version":3,"file":"index.js","sources":["../src/js/izi-toast-wrapper.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const commonOptions = {\n  position: 'topRight',\n  pauseOnHover: true,\n  closeOnClick: true,\n};\n\nimport iziToast from 'izitoast';\n\nexport function showMessage(message) {\n  iziToast.success({\n    message,\n    progressBarColor: '#007E33',\n    title: 'Success',\n    ...commonOptions,\n  });\n}\n\nexport function showError(message) {\n  iziToast.error({\n    message,\n    progressBarColor: '#b51b1b',\n    title: 'Error',\n    ...commonOptions,\n  });\n}\n","const API_KEY = '48467053-1861d826b8af29f86703a6302';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst PER_PAGE = 12;\n\nconst searchParams = new URLSearchParams({\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  //per_page: PER_PAGE,\n});\n\nexport function fetchImages(searchQuery) {\n  return fetch(`${BASE_URL}?q=${searchQuery}&${searchParams.toString()}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    }\n  );\n}\n","function renderGalleryItem({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n  <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n      <div class=\"gallery-item-info\">\n        <div class=\"field\">\n          <span class=\"label\">Likes</span>\n          <span class=\"value\" data-likes>${likes}</span>\n        </div>\n        <div class=\"field\">\n          <span class=\"label\">Views</span>\n          <span class=\"value\" data-views>${views}</span>\n        </div>\n        <div class=\"field\">\n          <span class=\"label\">Comments</span>\n          <span class=\"value\" data-comments>${comments}</span>\n        </div>\n        <div class=\"field\">\n          <span class=\"label\">Downloads</span>\n          <span class=\"value\" data-downloads>${downloads}</span>\n        </div>\n      </div>\n  </a>\n</li>`;\n}\n\nexport function renderGalleryItems(images) {\n  return images.map(renderGalleryItem).join('');\n}\n","const gallery = document.querySelector('ul.gallery');\nconst loadingMessage = document.querySelector('.loading-message');\nconst form = document.querySelector('#search-form');\nform.addEventListener('submit', handleFormSubmit);\n\nimport { showError } from './js/izi-toast-wrapper';\nimport { fetchImages } from './js/pixabay-api';\nimport { renderGalleryItems } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\n\nconst slbConfig = {\n  captionsData: 'alt',\n  captionDelay: 250,\n};\n\nvar simplelightbox = new SimpleLightbox('.gallery a', slbConfig);\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const query = form.search.value.trim();\n  if (query === '') {\n    showError('Please enter a valid search query!');\n    return;\n  }\n\n  gallery.innerHTML = '';\n  loadingMessage.classList.remove('hidden');\n  fetchImages(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        showError(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      }\n\n      console.log(data);\n      addImagesOnPage(data.hits);\n    })\n    .catch(error => {\n      showError(error);\n    })\n    .finally(() => {\n      loadingMessage.classList.add('hidden');\n    });\n}\n\nfunction addImagesOnPage(images) {\n  gallery.insertAdjacentHTML('beforeend', renderGalleryItems(images));\n  simplelightbox.refresh();\n}\n"],"names":["commonOptions","showError","message","iziToast","API_KEY","BASE_URL","searchParams","fetchImages","searchQuery","response","renderGalleryItem","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGalleryItems","images","gallery","loadingMessage","form","handleFormSubmit","slbConfig","simplelightbox","SimpleLightbox","event","query","data","addImagesOnPage","error"],"mappings":"6vBAAA,MAAMA,EAAgB,CACpB,SAAU,WACV,aAAc,GACd,aAAc,EAChB,EAaO,SAASC,EAAUC,EAAS,CACjCC,EAAS,MAAM,CACb,QAAAD,EACA,iBAAkB,UAClB,MAAO,QACP,GAAGF,CACP,CAAG,CACH,CCxBA,MAAMI,EAAU,qCACVC,EAAW,2BAGXC,EAAe,IAAI,gBAAgB,CACvC,IAAKF,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EAEd,CAAC,EAEM,SAASG,EAAYC,EAAa,CACvC,OAAO,MAAM,GAAGH,CAAQ,MAAMG,CAAW,IAAIF,EAAa,UAAU,EAAE,EAAE,KACtEG,GAAY,CACV,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,KAAM,CAC5B,CACG,CACH,CCtBA,SAASC,EAAkB,CACzB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,oCAE2BL,CAAa;AAAA,wCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,2CAIvBC,CAAK;AAAA;AAAA;AAAA;AAAA,2CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,8CAIFC,CAAQ;AAAA;AAAA;AAAA;AAAA,+CAIPC,CAAS;AAAA;AAAA;AAAA;AAAA,MAKxD,CAEO,SAASC,EAAmBC,EAAQ,CACzC,OAAOA,EAAO,IAAIT,CAAiB,EAAE,KAAK,EAAE,CAC9C,CCrCA,MAAMU,EAAU,SAAS,cAAc,YAAY,EAC7CC,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAO,SAAS,cAAc,cAAc,EAClDA,EAAK,iBAAiB,SAAUC,CAAgB,EAOhD,MAAMC,EAAY,CAChB,aAAc,MACd,aAAc,GAChB,EAEA,IAAIC,EAAiB,IAAIC,EAAe,aAAcF,CAAS,EAE/D,SAASD,EAAiBI,EAAO,CAC/BA,EAAM,eAAgB,EACtB,MAAMC,EAAQN,EAAK,OAAO,MAAM,KAAM,EACtC,GAAIM,IAAU,GAAI,CAChB3B,EAAU,oCAAoC,EAC9C,MACJ,CAEEmB,EAAQ,UAAY,GACpBC,EAAe,UAAU,OAAO,QAAQ,EACxCd,EAAYqB,CAAK,EACd,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1B5B,EACE,0EACD,EACD,MACR,CAEM,QAAQ,IAAI4B,CAAI,EAChBC,EAAgBD,EAAK,IAAI,CAC1B,CAAA,EACA,MAAME,GAAS,CACd9B,EAAU8B,CAAK,CAChB,CAAA,EACA,QAAQ,IAAM,CACbV,EAAe,UAAU,IAAI,QAAQ,CAC3C,CAAK,CACL,CAEA,SAASS,EAAgBX,EAAQ,CAC/BC,EAAQ,mBAAmB,YAAaF,EAAmBC,CAAM,CAAC,EAClEM,EAAe,QAAS,CAC1B"}